(()=>{"use strict";var e,t={406:(e,t,n)=>{const a=window.wp.element,r=window.wp.i18n,l=window.wp.components,o=window.wp.api;var s=n.n(o);(0,a.render)((0,a.createElement)((()=>{const e="1"===vkpOptions.showPatternsLink,t="1"===vkpOptions.disableCorePattern,n="1"===vkpOptions.disablePluginPattern,o="1"===vkpOptions.savePluginData,[i,c]=(0,a.useState)({role:vkpOptions.role,showPatternsLink:e,VWSMail:vkpOptions.VWSMail,disableCorePattern:t,disablePluginPattern:n,savePluginData:o}),p=vkpOptions.ajaxUrl,k=e=>{c(e)},[u,v]=(0,a.useState)(!1),[b,m]=(0,a.useState)(""),[_,d]=(0,a.useState)(!1),[h,g]=(0,a.useState)(""),[E,P]=(0,a.useState)(!1),f=()=>{d(!0);const e=new XMLHttpRequest;e.open("POST",p,!0),e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e.send(`action=clear_patterns_cache&vbp_clear_patterns_cache_nonce=${vkpOptions.nonce}`),d(!1),g(!0)},S=(0,r.getLocaleData)()[""].lang,C=vkpOptions.adminUrl+"edit.php?post_type=vk-block-patterns",w=vkpOptions.template;return(0,a.useEffect)((()=>{b&&setTimeout((()=>{m()}),3e3)}),[b]),(0,a.useEffect)((()=>{h&&setTimeout((()=>{g()}),3e3)}),[h]),(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",null,(0,a.createElement)("section",null,(0,a.createElement)("h3",{id:"role-setting"},(0,r.__)("Role Setting","vk-block-patterns")),(0,a.createElement)("p",null,(0,r.__)("User permission to register patterns in VK Block Patterns","vk-block-patterns")," ","[ ",(0,a.createElement)("a",{href:C},"VK Block Patterns")," ]"),(0,a.createElement)(l.SelectControl,{value:i.role,onChange:e=>{k({...i,role:e})},options:[{label:(0,r.__)("Contributor or higher","vk-block-patterns"),value:"contributor"},{label:(0,r.__)("Author or higher","vk-block-patterns"),value:"author"},{label:(0,r.__)("Editor or higher","vk-block-patterns"),value:"editor"},{label:(0,r.__)("Administrator only","vk-block-patterns"),value:"administrator"}]})),(0,a.createElement)("section",null,(0,a.createElement)("h3",{id:"default-patterns-setting"},(0,r.__)("Default Pattern Setting","vk-block-patterns")),(0,a.createElement)(l.ToggleControl,{label:(0,r.__)("Disable WordPress Core Patterns","vk-block-patterns"),checked:i.disableCorePattern,onChange:e=>{k({...i,disableCorePattern:e})}}),(0,a.createElement)(l.ToggleControl,{label:(0,r.__)("Disable default patterns of this plugin","vk-block-patterns"),checked:i.disablePluginPattern,onChange:e=>{k({...i,disablePluginPattern:e})}}),"ja_JP"===S&&""!==i.VWSMail&&"x-t9"===w&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(l.ToggleControl,{label:(0,r.__)("Disable X-T9 patterns","vk-block-patterns"),checked:i.disableXT9Pattern,onChange:e=>{k({...i,disableXT9Pattern:e})}}))),"ja_JP"===S&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("h3",{id:"pattern-library-setting"},(0,r.__)("VK Pattern Library Setting","vk-block-patterns")),(0,a.createElement)("section",null,(0,a.createElement)("h4",null,"アカウント連携"),(0,a.createElement)("p",null,(0,a.createElement)("a",{href:"https://vws.vektor-inc.co.jp/vektor-passport?ref=vkbp-admin",target:"_blank",rel:"noreferrer"},"Vektor Passport")," ","あるいは Lightning G3 Pro Pack のライセンスをお持ちのユーザーは"," ",(0,a.createElement)("a",{href:"https://patterns.vektor-inc.co.jp/",target:"_blank",rel:"noreferrer"},"VK Pattern Library")," ","でお気に入りに登録したパターンをエディター上で直接呼び出す事ができます。"),(0,a.createElement)("p",null,"お気に入り登録・連携を利用するには VK Pattern Library のユーザーアカウントを発行する必要があります。",(0,a.createElement)("br",null),"["," ",(0,a.createElement)("a",{href:"https://patterns.vektor-inc.co.jp/about/about-favorite/",target:"_blank",rel:"noreferrer"},(0,r.__)("Click here for more information on Favorites","vk-block-patterns"))," ","]"),(0,a.createElement)(l.TextControl,{type:"email",className:"vws-mail-address",label:"VK Pattern Library のアカウントのメールアドレス",value:i.VWSMail,onChange:e=>{k({...i,VWSMail:e}),P(!0)}})),(0,a.createElement)("section",null,(0,a.createElement)("h4",null,(0,r.__)("Editor Setting","vk-block-patterns")),(0,a.createElement)(l.ToggleControl,{label:(0,r.__)("Show VK Pattern Library link in editor toolbar","vk-block-patterns"),checked:i.showPatternsLink,onChange:e=>{k({...i,showPatternsLink:e})}})),(0,a.createElement)("section",null,(0,a.createElement)("h4",null,(0,r.__)("Uninstall Setting","vk-block-patterns")),(0,a.createElement)(l.ToggleControl,{label:(0,r.__)("When Uninstall This Plugin, Save Data of This Plugin","vk-block-patterns"),checked:i.savePluginData,onChange:e=>{k({...i,savePluginData:e})}})),(0,a.createElement)("section",null,(0,a.createElement)("h3",{id:"cache-setting"},(0,r.__)("Patterns data cache setting","vk-block-patterns")),(0,a.createElement)("p",null,(0,r.__)("If the VK Pattern Library data is old, please try clearing the cache.","vk-block-patterns")),(0,a.createElement)(l.Button,{isSecondary:!0,onClick:f,isBusy:_},(0,r.__)("Clear Cache","vk-block-patterns")),_&&(0,a.createElement)(l.Spinner,null),!0===h&&(0,a.createElement)("div",null,(0,a.createElement)(l.Snackbar,null,(0,r.__)("Cache cleared","vk-block-patterns")," ")))),(0,a.createElement)(l.Button,{isPrimary:!0,onClick:()=>{v(!0),s().loadPromise.then((()=>{const e=new(s().models.Settings)({vk_block_patterns_options:i}).save();e.success((()=>{setTimeout((()=>{v(!1),m(!0)}),600),!0===E&&(f(),location.reload())})),e.error((()=>{setTimeout((()=>{v(!1),m(!1)}),600)}))}))},isBusy:u},(0,r.__)("Save setting","vk-block-patterns")),u&&(0,a.createElement)(l.Spinner,null),!0===b&&(0,a.createElement)("div",null,(0,a.createElement)(l.Snackbar,null,(0,r.__)("Save Success","vk-block-patterns")," ")),!1===b&&(0,a.createElement)("div",null,(0,a.createElement)(l.Snackbar,null,(0,r.__)("Failed to save.","vk-block-patterns")," "))))}),null),document.getElementById("vk_block_patterns_admin"))}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,a),l.exports}a.m=t,e=[],a.O=(t,n,r,l)=>{if(!n){var o=1/0;for(p=0;p<e.length;p++){for(var[n,r,l]=e[p],s=!0,i=0;i<n.length;i++)(!1&l||o>=l)&&Object.keys(a.O).every((e=>a.O[e](n[i])))?n.splice(i--,1):(s=!1,l<o&&(o=l));if(s){e.splice(p--,1);var c=r();void 0!==c&&(t=c)}}return t}l=l||0;for(var p=e.length;p>0&&e[p-1][2]>l;p--)e[p]=e[p-1];e[p]=[n,r,l]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={846:0,667:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,l,[o,s,i]=n,c=0;if(o.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(i)var p=i(a)}for(t&&t(n);c<o.length;c++)l=o[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(p)},n=globalThis.webpackChunkvk_block_patterns=globalThis.webpackChunkvk_block_patterns||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=a.O(void 0,[667],(()=>a(406)));r=a.O(r)})();